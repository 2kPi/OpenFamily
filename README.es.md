# OpenFamily

<div align="center">

![License](https://img.shields.io/badge/License-AGPL--3.0--NC-blue.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?logo=react&logoColor=61DAFB)
![Vite](https://img.shields.io/badge/Vite-646CFF?logo=vite&logoColor=white)
![PWA](https://img.shields.io/badge/PWA-Ready-5A0FC8?logo=pwa&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?logo=docker&logoColor=white)

**AplicaciÃ³n 100% local y de cÃ³digo abierto para gestionar la vida familiar**

[ğŸ‡«ğŸ‡· FranÃ§ais](README.md) | [ğŸ‡¬ğŸ‡§ English](README.en.md) | [ğŸ‡©ğŸ‡ª Deutsch](README.de.md) | ğŸ‡ªğŸ‡¸ EspaÃ±ol

[Funcionalidades](#-funcionalidades) â€¢
[InstalaciÃ³n](#-instalaciÃ³n) â€¢
[DocumentaciÃ³n](#-documentaciÃ³n) â€¢
[Contribuir](#-contribuir) â€¢
[Licencia](#-licencia)

[![Docker Hub](https://img.shields.io/badge/Docker%20Hub-nexaflow%2Fopenfamily-2496ED?logo=docker&logoColor=white)](https://hub.docker.com/r/nexaflow/openfamily)
[![GitHub](https://img.shields.io/badge/GitHub-NexaFlowFrance%2FOpenFamily-181717?logo=github&logoColor=white)](https://github.com/NexaFlowFrance/OpenFamily)

</div>

---

## ğŸ“– Tabla de contenidos

- [Acerca de](#-acerca-de)
- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [Funcionalidades](#-funcionalidades)
- [Inicio rÃ¡pido](#-inicio-rÃ¡pido)
- [InstalaciÃ³n](#-instalaciÃ³n)
- [Almacenamiento de datos](#-almacenamiento-de-datos)
- [Funcionalidades avanzadas](#-funcionalidades-avanzadas)
- [TecnologÃ­as](#ï¸-tecnologÃ­as)
- [Compatibilidad](#-compatibilidad)
- [Privacidad](#-privacidad)
- [Preguntas frecuentes](#-preguntas-frecuentes)
- [Licencia](#-licencia)
- [Contribuir](#-contribuir)

---

## ğŸ¯ Acerca de

OpenFamily es una aplicaciÃ³n completa de gestiÃ³n familiar ofrecida como cÃ³digo abierto por [NexaFlow](http://nexaflow.fr), diseÃ±ada para ser auto-alojada. Mantenga el control total de sus datos alojando la aplicaciÃ³n en su propio servidor. Gestione sus compras, tareas, citas, recetas, planificaciÃ³n de comidas y presupuesto familiar de forma segura, accesible desde todos sus dispositivos.


## ğŸš€ CaracterÃ­sticas

- âœ… **100% Auto-alojado** - Sus datos en su propio servidor, ningÃºn servicio de terceros
- ğŸ“± **PWA** - Instale la aplicaciÃ³n como una aplicaciÃ³n nativa en mÃ³vil/tablet
- ğŸ”’ **Privado** - Sus datos permanecen en su servidor, nunca en servidores de terceros
- ğŸ”„ **Sincronizado** - Acceda a sus datos desde todos sus dispositivos
- ğŸ†“ **CÃ³digo Abierto** - CÃ³digo fuente libre y modificable
- ğŸŒ **Multi-idioma** - Interfaz disponible en FrancÃ©s, InglÃ©s, AlemÃ¡n y EspaÃ±ol
- ğŸŒ™ **Tema oscuro** - Modos claro y oscuro disponibles
- ğŸ’¡ **Lista inteligente** - Sugerencias de ingredientes basadas en sus comidas planificadas
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ **Multi-usuarios** - GestiÃ³n de toda la familia con informaciÃ³n de salud

## ğŸ“‹ Funcionalidades

### ğŸ›’ Lista de compras
- CategorizaciÃ³n automÃ¡tica (BebÃ©, AlimentaciÃ³n, Hogar, Salud, Otro)
- Precios y cantidades
- Sugerencias inteligentes basadas en recetas planificadas
- **ğŸ“‹ Plantillas de listas** - Guarde y reutilice sus listas recurrentes

### âœ… Tareas y listas
- Tareas recurrentes (diarias, semanales, mensuales, anuales)
- AsignaciÃ³n a miembros de la familia
- Notas y prioridades
- Vista de calendario integrada
- **ğŸ“Š Historial y estadÃ­sticas** - Tasa de finalizaciÃ³n, tendencias semanales

### ğŸ“… Citas
- Calendario mensual con vista francesa
- IntegraciÃ³n de tareas y citas
- Recordatorios y notas
- CÃ³digo de color por miembro de la familia
- **ğŸ”” Notificaciones automÃ¡ticas** - Recordatorios 30min y 1h antes de cada cita

### ğŸ³ Recetas
- Biblioteca de recetas familiares
- CategorÃ­as (Entrada, Plato principal, Postre, Snack)
- Tiempo de preparaciÃ³n y cocciÃ³n
- Porciones y etiquetas
- **ğŸ” Filtros avanzados** - Por categorÃ­a, tiempo de preparaciÃ³n, dificultad

### ğŸ½ï¸ PlanificaciÃ³n de comidas
- Vista semanal (Lunes-Domingo)
- 4 tipos de comidas por dÃ­a (Desayuno, Almuerzo, Cena, Snack)
- Enlace automÃ¡tico con recetas
- **ğŸ“„ ExportaciÃ³n PDF** - Imprima su planificaciÃ³n semanal

### ğŸ’° Presupuesto familiar
- Seguimiento mensual de gastos
- 6 categorÃ­as: AlimentaciÃ³n, Salud, NiÃ±os, Hogar, Ocio, Otro
- DefiniciÃ³n de presupuestos por categorÃ­a
- GrÃ¡ficos de progreso
- Alertas de exceso
- **ğŸ“Š EstadÃ­sticas avanzadas** - EvoluciÃ³n de 6 meses, desglose por categorÃ­a

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ GestiÃ³n familiar
- Perfiles para cada miembro
- InformaciÃ³n de salud (grupo sanguÃ­neo, alergias, vacunas)
- Contacto de emergencia
- Notas mÃ©dicas
- CÃ³digo de color personalizado

---

## ğŸš€ Inicio rÃ¡pido

### OpciÃ³n 1 : Docker (Recomendado) â­

Â¡El mÃ©todo mÃ¡s simple! Use nuestra imagen Docker preconfigurada:

```bash
# 1. Descargue los archivos de configuraciÃ³n
mkdir openfamily && cd openfamily
curl -O https://raw.githubusercontent.com/NexaFlowFrance/OpenFamily/main/docker-compose.yml
curl -O https://raw.githubusercontent.com/NexaFlowFrance/OpenFamily/main/.env.example
cp .env.example .env

# 2. Modifique la contraseÃ±a (opcional)
nano .env  # Cambie DB_PASSWORD

# 3. Inicie OpenFamily
docker compose up -d

# 4. Acceda a la aplicaciÃ³n
# http://localhost:3000
```

**Â¡Eso es todo!** ğŸ‰ La aplicaciÃ³n y la base de datos se configuran automÃ¡ticamente.

### OpciÃ³n 2 : InstalaciÃ³n manual

Para desarrolladores o si no puede usar Docker:

```bash
# 1. Clonar el repositorio
git clone https://github.com/NexaFlowFrance/OpenFamily.git
cd OpenFamily

# 2. Instalar PostgreSQL (si no estÃ¡ instalado)
# Windows: https://www.postgresql.org/download/windows/
# Linux: sudo apt install postgresql
# macOS: brew install postgresql

# 3. Crear la base de datos
psql -U postgres
CREATE DATABASE openfamily;
\q

# 4. Configurar el entorno
cp .env.example .env
nano .env  # Ajuste DATABASE_URL con sus credenciales

# 5. Instalar y ejecutar
pnpm install
pnpm build
pnpm start
```

---

## ğŸ“¦ InstalaciÃ³n

### Requisitos previos

#### Con Docker (Recomendado)
- **Docker Desktop** (Windows/Mac) o **Docker Engine** (Linux)
- **2 GB de RAM mÃ­nimo**
- **5 GB de espacio en disco**

#### Sin Docker
- **Node.js 20+** y **pnpm**
- **PostgreSQL 14+**
- **2 GB de RAM mÃ­nimo**
- **10 GB de espacio en disco**

### InstalaciÃ³n detallada

ğŸ“– **GuÃ­a completa** : [FIRST_INSTALLATION.md](FIRST_INSTALLATION.md)

La imagen Docker oficial estÃ¡ disponible en Docker Hub: [nexaflow/openfamily](https://hub.docker.com/r/nexaflow/openfamily)

### ConfiguraciÃ³n de red

#### Acceso solo local
La aplicaciÃ³n funciona inmediatamente en `http://localhost:3000`

#### Acceso de red local (LAN)
1. Encuentre la IP de su servidor: `ip addr show` (Linux) o `ipconfig` (Windows)
2. Acceda desde cualquier dispositivo: `http://192.168.X.X:3000`
3. **DetecciÃ³n automÃ¡tica**: La aplicaciÃ³n detecta que estÃ¡ alojada y activa el modo servidor

#### Acceso a internet (opcional)
Consulte la [GuÃ­a de ImplementaciÃ³n](PRODUCTION.md) para:
- Configurar un nombre de dominio
- Instalar un certificado SSL (HTTPS)
- Asegurar el acceso

### ActualizaciÃ³n

#### Con Docker
```bash
docker compose pull
docker compose up -d
```

#### Sin Docker
```bash
git pull
pnpm install
pnpm build
pnpm start
```

#### OpciÃ³n 1: PWA (Recomendado)
1. Acceda a su instancia OpenFamily (ej: `http://192.168.1.100:3000`)
2. En mÃ³vil: haga clic en "Agregar a pantalla de inicio"
3. En desktop: haga clic en el icono de instalaciÃ³n en la barra de direcciones
4. La aplicaciÃ³n se instalarÃ¡ como una aplicaciÃ³n nativa

#### OpciÃ³n 2: Aplicaciones nativas mÃ³viles
- **Android**: Instale el APK disponible en las versiones
- **iOS**: Use TestFlight o compile desde el cÃ³digo fuente

#### OpciÃ³n 3: Navegador web
Simplemente acceda a la URL de su servidor OpenFamily desde cualquier navegador moderno (Chrome, Safari, Firefox, Edge).

## ğŸ’¾ Almacenamiento de datos

OpenFamily utiliza una arquitectura **servidor centralizado con PostgreSQL**:

### ğŸ—„ï¸ Arquitectura

- **Base de datos**: PostgreSQL (incluido en Docker Compose)
- **Servidor API**: Express.js (Node.js)
- **SincronizaciÃ³n**: Tiempo real vÃ­a API REST
- **Seguridad**: Token de autenticaciÃ³n, aislamiento por familia

### ğŸ“Š Datos almacenados

Todos los datos se almacenan en PostgreSQL:
- `shopping_items` - Lista de compras
- `tasks` - Tareas y horarios
- `appointments` - Citas
- `family_members` - Miembros de la familia (con informaciÃ³n de salud)
- `recipes` - Recetas
- `meals` - PlanificaciÃ³n de comidas
- `budgets` - Presupuestos mensuales
- `families` - ConfiguraciÃ³n de familias

### ğŸ”„ SincronizaciÃ³n automÃ¡tica

- âœ… **Multi-dispositivos**: Acceda desde PC, tablet, smartphone
- âœ… **Tiempo real**: Las modificaciones son instantÃ¡neas
- âœ… **DetecciÃ³n automÃ¡tica**: La aplicaciÃ³n detecta el servidor en la red
- âœ… **Familia por defecto**: ConfiguraciÃ³n inicial automÃ¡tica

### ğŸ’¾ Respaldo

Los datos PostgreSQL se persisten vÃ­a volÃºmenes Docker:

```bash
# Respaldar manualmente
docker exec openfamily-db pg_dump -U openfamily openfamily > backup.sql

# Restaurar desde un respaldo
docker exec -i openfamily-db psql -U openfamily openfamily < backup.sql
```

**RecomendaciÃ³n**: Configure respaldos automÃ¡ticos diarios con cron o una herramienta de respaldo PostgreSQL.

## âœ¨ Funcionalidades avanzadas

### ğŸ”” Notificaciones inteligentes
- Recordatorios automÃ¡ticos 30 minutos y 1 hora antes de cada cita
- Recordatorios 15 minutos y a la hora exacta para tareas con fecha lÃ­mite
- Soporte de notificaciones del navegador (permiso requerido)

### ğŸ’¡ Lista de compras inteligente
- Sugerencias automÃ¡ticas de ingredientes basadas en sus comidas planificadas
- AnÃ¡lisis de recetas de la semana prÃ³xima
- AdiciÃ³n con un clic desde las sugerencias

### ğŸ“Š EstadÃ­sticas y panel de control
- Vista general de todas sus actividades
- Tasa de finalizaciÃ³n de tareas (global y semanal)
- Uso del presupuesto en tiempo real con grÃ¡ficos de evoluciÃ³n
- Tendencias de planificaciÃ³n de comidas
- GrÃ¡ficos e indicadores visuales

### ğŸ¯ PlanificaciÃ³n automÃ¡tica de comidas
- GeneraciÃ³n automÃ¡tica de una planificaciÃ³n semanal
- SelecciÃ³n inteligente basada en categorÃ­as de recetas
- Evita repeticiones en varios dÃ­as
- IntegraciÃ³n con sus recetas existentes

### ğŸ” BÃºsqueda global
- BÃºsqueda instantÃ¡nea en todos sus datos (Ctrl/Cmd+K)
- Resultados agrupados por categorÃ­a: compras, tareas, citas, recetas, comidas
- NavegaciÃ³n rÃ¡pida a cualquier pÃ¡gina

### ğŸš€ Acciones rÃ¡pidas
- Widgets en la pÃ¡gina de inicio para crear rÃ¡pidamente tareas y artÃ­culos
- AdiciÃ³n vÃ­a formularios en lÃ­nea con soporte de teclado (tecla Enter)
- Acceso directo a las funcionalidades principales

### ğŸŒ™ Tema automÃ¡tico
- Modo claro, oscuro o automÃ¡tico
- DetecciÃ³n automÃ¡tica de preferencias del sistema
- Ciclo entre los 3 modos con un simple clic

### ğŸ’¾ Importar/Exportar datos
- ExportaciÃ³n completa en formato JSON con versionado
- ImportaciÃ³n de respaldo con confirmaciÃ³n
- Respaldo manual o automÃ¡tico de todos sus datos

### âš¡ AdiciÃ³n rÃ¡pida
- BotÃ³n flotante accesible desde toda la aplicaciÃ³n
- AdiciÃ³n express de tareas o artÃ­culos de compras
- Interfaz mÃ­nima para captura rÃ¡pida

### ğŸ©º Seguimiento de salud familiar
- Grupo sanguÃ­neo para cada miembro
- Lista de alergias
- Historial de vacunaciones con fechas y recordatorios
- Notas mÃ©dicas personales
- Contacto de emergencia (nombre, telÃ©fono, relaciÃ³n)

## ğŸ› ï¸ TecnologÃ­as

### Frontend
- **React 19 + TypeScript** - Interfaz de usuario moderna y tipada
- **Vite 7** - Herramienta de construcciÃ³n ultra-rÃ¡pida
- **TailwindCSS + shadcn/ui** - Sistema de diseÃ±o elegante y coherente
- **Wouter** - Enrutamiento ligero
- **date-fns** - ManipulaciÃ³n de fechas
- **Recharts** - GrÃ¡ficos y visualizaciones

### Backend (Modo Servidor)
- **Node.js 20+ + Express** - API REST
- **PostgreSQL 16** - Base de datos relacional
- **TypeScript** - Tipado del backend
- **Docker + Docker Compose** - ContenarizaciÃ³n e implementaciÃ³n

### Almacenamiento
- **localStorage** - Modo local (navegador)
- **PostgreSQL** - Modo servidor (auto-alojado)
- **Repository Pattern** - AbstracciÃ³n del almacenamiento para ambos modos

### MÃ³vil
- **Capacitor** - ConstrucciÃ³n Android/iOS
- **Service Worker** - Modo fuera de lÃ­nea (PWA)

## ğŸ“± Compatibilidad

- Chrome/Edge (desktop y mÃ³vil)
- Safari (iOS y macOS)
- Firefox
- Cualquier navegador moderno que soporte localStorage y Service Workers

## ğŸ” Privacidad

Esta aplicaciÃ³n respeta su privacidad segÃºn el modo elegido:

### Modo Local
- âŒ No envÃ­a **ningÃºn dato** a servidores externos
- âŒ No usa **ninguna base de datos** centralizada
- âŒ No requiere **ninguna cuenta de usuario**
- âœ… Almacena **todo localmente** en su dispositivo
- âœ… Funciona **completamente fuera de lÃ­nea**

### Modo Servidor
- âœ… **Usted controla la infraestructura** - Aloje en su propio servidor
- âœ… **NingÃºn tercero involucrado** - No hay nube externa
- âœ… **Cifrado en trÃ¡nsito** - HTTPS recomendado
- âœ… **CÃ³digo Abierto** - CÃ³digo verificable y auditable
- ğŸ“ **Responsabilidad** - Usted gestiona la seguridad de su servidor

---

## â“ Preguntas frecuentes

### Â¿EstÃ¡n seguros mis datos?
**Modo Local**: SÃ­, todos sus datos se almacenan localmente en su navegador. Nunca salen de su dispositivo.

**Modo Servidor**: Sus datos se almacenan en su propio servidor. Tiene control total y responsabilidad de la seguridad.

### Â¿Puedo usar la aplicaciÃ³n fuera de lÃ­nea?
**Modo Local**: Â¡Absolutamente! Una vez instalada como PWA, la aplicaciÃ³n funciona completamente fuera de lÃ­nea.

**Modo Servidor**: Se necesita conexiÃ³n al servidor para sincronizar datos. Las funcionalidades fuera de lÃ­nea pueden estar limitadas.

### Â¿CÃ³mo respaldar mis datos?
**Modo Local**: Vaya a ConfiguraciÃ³n â†’ Respaldo para descargar un archivo JSON con todos sus datos.

**Modo Servidor**: Configure respaldos automÃ¡ticos de su base de datos PostgreSQL (vea [DEPLOYMENT.md](docs/DEPLOYMENT.md)).

### Â¿La aplicaciÃ³n estÃ¡ disponible en varios idiomas?
Â¡SÃ­! La interfaz estÃ¡ disponible en **FrancÃ©s ğŸ‡«ğŸ‡·**, **InglÃ©s ğŸ‡¬ğŸ‡§**, **AlemÃ¡n ğŸ‡©ğŸ‡ª** y **EspaÃ±ol ğŸ‡ªğŸ‡¸**. Puede cambiar el idioma durante la configuraciÃ³n inicial o en ConfiguraciÃ³n.

### Â¿La aplicaciÃ³n funciona en iOS?
SÃ­, puede instalarla como PWA desde Safari. En Android, tambiÃ©n puede instalar el APK.

### Â¿Puedo sincronizar entre varios dispositivos?
**Modo Local**: Use la funciÃ³n de exportar/importar para transferir manualmente sus datos.

**Modo Servidor**: Â¡SÃ­! El modo servidor auto-alojado permite sincronizaciÃ³n automÃ¡tica entre todos los dispositivos de la familia.

### Â¿La aplicaciÃ³n es realmente gratuita?
SÃ­, 100% gratuita y de cÃ³digo abierto. Sin costos ocultos, sin suscripciones.

---

## ğŸ“„ Licencia

AGPL-3.0 con clÃ¡usula no comercial - El proyecto es de cÃ³digo abierto y se puede bifurcar, pero el uso comercial requiere autorizaciÃ³n explÃ­cita. Vea el archivo [LICENSE](LICENSE) para mÃ¡s detalles.

## ğŸ¤ Contribuir

Â¡Las contribuciones son bienvenidas! No dude en:
- Abrir issues para reportar bugs
- Proponer mejoras
- Enviar pull requests

Consulte [CONTRIBUTING.md](CONTRIBUTING.md) para las directrices de contribuciÃ³n.

## ğŸ“š DocumentaciÃ³n

- [ARCHITECTURE.md](docs/ARCHITECTURE.md) - Arquitectura tÃ©cnica y patrÃ³n Repository
- [DEPLOYMENT.md](docs/DEPLOYMENT.md) - GuÃ­a de implementaciÃ³n del servidor (Docker, PostgreSQL, Nginx)
- [CONTRIBUTING.md](CONTRIBUTING.md) - GuÃ­a de contribuciÃ³n
- [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md) - CÃ³digo de conducta
- [CHANGELOG.md](CHANGELOG.md) - Historial de versiones

---

<div align="center">

Hecho con â¤ï¸ por [NexaFlow](https://github.com/NexaFlowFrance)

[â¬† Volver arriba](#openfamily)

</div>
